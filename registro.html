<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - MixtliArte</title>
    <link rel="stylesheet" href="build/css/app.css">
</head>
<body>
    <section class="login-formulario">
        <h1>Registrate</h1>

        <form method="POST">
            <fieldset>
                <legend>Información Personal</legend>

                <!-- Nombre y Apellido -->
                <div class="formulario-grupo">
                    <div class="nombre">
                        <label for="nombre">Nombre*</label>
                        <input type="text" id="nombre" name="nombre"  >
                    </div>

                    <div class="apellido">
                        <label for="apellido">Apellido*</label>
                        <input type="text" id="apellido" name="apellido"  >
                    </div>
                </div>

                

                <!-- Correo y Teléfono -->
                <label for="email">Correo Electrónico*</label>
                <input type="email" id="email" name="email"  >

                <label for="telefono">Teléfono*</label>
                <input type="tel" id="telefono" name="telefono"  >

                <!-- Contraseña -->
                <label for="password">Contraseña*</label>
                <input type="password" id="password" name="password"  >

                <label for="confirmar_password">Confirmar Contraseña*</label>
                <input type="password" id="confirmar_password" name="confirmar_password"  >

                <!-- Fecha de Nacimiento y Género-->
                <div class="formulario-grupo">
                    <div class="fecha_nacimiento">
                        <label for="fecha_nacimiento">Fecha de Nacimiento*</label>
                        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" >
                    </div>

                    <div class="genero">
                        <label for="sexo">Género*</label>
                        <select id="sexo" name="sexo" >
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                        </select>
                    </div>
                </div>
                

                <!-- Tipo de Usuario -->
                <label for="tipo_usuario">¿Para qué piensas usar Mixtli Arte?*</label>
                <select id="tipo_usuario" name="tipo_usuario"  onchange="mostrarDirecciones()">
                    <option value="comprador">Comprar</option>
                    <option value="vendedor">Vender</option>
                </select>
            </fieldset>

            <!-- Dirección Residencial -->
            <fieldset>
                <legend>Dirección Residencial</legend>

                <div class="formulario-grupo">
                    <div class="calle">
                        <label for="calle_res">Calle*</label>
                        <input type="text" id="calle_res" name="calle_res"  >
                    </div>
                    
                    <div class="numero">
                        <label for="numero_res">Número*</label>
                        <input type="text" id="numero_res" name="numero_res"  >
                    </div>
                </div>

                <label for="colonia_res">Colonia*</label>
                <input type="text" id="colonia_res" name="colonia_res"  >

                <label for="ciudad_res">Ciudad*</label>
                <input type="text" id="ciudad_res" name="ciudad_res"  >

                <label for="estado_res">Estado*</label>
                <input type="text" id="estado_res" name="estado_res"  >

                <label for="codigo_postal_res">Código Postal*</label>
                <input type="text" id="codigo_postal_res" name="codigo_postal_res"  >
            </fieldset>

            <!-- Dirección Comercial (Solo para Vendedores) -->
            <fieldset id="direccion_comercial" style="display: none;">
                <legend>Dirección Comercial (Solo para Vendedores)</legend>
                <label for="calle_com">Calle*</label>
                <input type="text" id="calle_com" name="calle_com" >

                <label for="numero_com">Número*</label>
                <input type="text" id="numero_com" name="numero_com" >

                <label for="colonia_com">Colonia*</label>
                <input type="text" id="colonia_com" name="colonia_com" >

                <label for="ciudad_com">Ciudad*</label>
                <input type="text" id="ciudad_com" name="ciudad_com" >

                <label for="estado_com">Estado*</label>
                <input type="text" id="estado_com" name="estado_com" >

                <label for="codigo_postal_com">Código Postal*</label>
                <input type="text" id="codigo_postal_com" name="codigo_postal_com" >
            </fieldset>

            <button type="submit" class="boton-rosa-block">Registrarse</button>

            <div class="links">
                <p>¿Ya tienes una cuenta? <a href="login.html">Inicia sesión</a></p>
            </div>
        </form>
    </section>

    <script src="build/js/app.js"></script>
    <script>
        function mostrarDirecciones() {
            const tipoUsuario = document.getElementById("tipo_usuario").value;
            const direccionComercial = document.getElementById("direccion_comercial");

            if (tipoUsuario === "vendedor") {
                direccionComercial.style.display = "block";
            } else {
                direccionComercial.style.display = "none";
            }

            // Asegurarnos de que el último fieldset visible tenga margin-bottom: 0
            const fieldsets = document.querySelectorAll('form fieldset');
            fieldsets.forEach((fieldset, index) => {
                // Si es el último visible, se le aplica margin-bottom: 0
                if (fieldset.style.display !== 'none' && (index === fieldsets.length - 1 || fieldsets[index + 1].style.display === 'none')) {
                    fieldset.style.marginBottom = '0';
                } else {
                    fieldset.style.marginBottom = '3rem'; // Si no es el último visible, mantiene el margin
                }
            });
        }
    </script>
</body>
</html>
